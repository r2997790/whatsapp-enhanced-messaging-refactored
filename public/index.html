<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>ðŸ“± WhatsApp Enhanced Messaging</title>\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css\" rel=\"stylesheet\">\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\" rel=\"stylesheet\">\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.js\"></script>\n    <style>\n        .fade-in {\n            animation: fadeIn 0.5s ease-in;\n        }\n        @keyframes fadeIn {\n            from { opacity: 0; transform: translateY(10px); }\n            to { opacity: 1; transform: translateY(0); }\n        }\n        .pulse {\n            animation: pulse 2s infinite;\n        }\n        @keyframes pulse {\n            0%, 100% { opacity: 1; }\n            50% { opacity: 0.5; }\n        }\n        .tab-content {\n            display: none;\n        }\n        .tab-content.active {\n            display: block;\n        }\n        .tab-button.active {\n            background-color: #3B82F6;\n            color: white;\n        }\n        .qr-container {\n            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);\n        }\n    </style>\n</head>\n<body class=\"bg-gray-100 min-h-screen\">\n    <!-- Navigation -->\n    <nav class=\"bg-white shadow-lg border-b\">\n        <div class=\"max-w-7xl mx-auto px-4\">\n            <div class=\"flex justify-between items-center py-4\">\n                <div class=\"flex items-center space-x-3\">\n                    <i class=\"fab fa-whatsapp text-3xl text-green-500\"></i>\n                    <div>\n                        <h1 class=\"text-xl font-bold text-gray-800\">WhatsApp Enhanced Messaging</h1>\n                        <p class=\"text-sm text-gray-600\">Professional Bulk Messaging Platform</p>\n                    </div>\n                </div>\n                <div class=\"flex items-center space-x-4\">\n                    <div class=\"flex items-center space-x-2\">\n                        <div class=\"w-3 h-3 rounded-full\" id=\"connectionStatus\"></div>\n                        <span class=\"text-sm font-medium\" id=\"statusText\">Connecting...</span>\n                    </div>\n                    <button id=\"logoutBtn\" class=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors\" style=\"display: none;\">\n                        <i class=\"fas fa-sign-out-alt mr-2\"></i>Logout\n                    </button>\n                </div>\n            </div>\n        </div>\n    </nav>\n\n    <!-- Main Content -->\n    <div class=\"max-w-7xl mx-auto px-4 py-6\">\n        <!-- QR Code Section -->\n        <div id=\"qrSection\" class=\"mb-8\">\n            <div class=\"bg-white rounded-lg shadow-lg p-6\">\n                <div class=\"text-center\">\n                    <div class=\"qr-container rounded-lg p-8 mb-6\">\n                        <div id=\"qrCodeContainer\" class=\"bg-white rounded-lg p-4 inline-block\">\n                            <div class=\"text-gray-500\">\n                                <i class=\"fas fa-qrcode text-6xl mb-4\"></i>\n                                <p class=\"text-lg\">Initializing WhatsApp connection...</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"text-left max-w-md mx-auto\">\n                        <h3 class=\"text-lg font-semibold mb-3 text-gray-800\">How to connect:</h3>\n                        <ol class=\"space-y-2 text-gray-600\">\n                            <li class=\"flex items-start\">\n                                <span class=\"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5\">1</span>\n                                <span>Open WhatsApp on your phone</span>\n                            </li>\n                            <li class=\"flex items-start\">\n                                <span class=\"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5\">2</span>\n                                <span>Go to Settings â†’ Linked Devices</span>\n                            </li>\n                            <li class=\"flex items-start\">\n                                <span class=\"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5\">3</span>\n                                <span>Tap \"Link a Device\"</span>\n                            </li>\n                            <li class=\"flex items-start\">\n                                <span class=\"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5\">4</span>\n                                <span>Scan the QR code above</span>\n                            </li>\n                        </ol>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Main Dashboard -->\n        <div id=\"mainDashboard\" style=\"display: none;\">\n            <!-- Stats Cards -->\n            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n                <div class=\"bg-white rounded-lg shadow p-6\">\n                    <div class=\"flex items-center\">\n                        <div class=\"bg-green-100 p-3 rounded-full\">\n                            <i class=\"fas fa-paper-plane text-green-600 text-xl\"></i>\n                        </div>\n                        <div class=\"ml-4\">\n                            <p class=\"text-sm font-medium text-gray-600\">Messages Sent</p>\n                            <p class=\"text-2xl font-bold text-gray-900\" id=\"messagesSent\">0</p>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"bg-white rounded-lg shadow p-6\">\n                    <div class=\"flex items-center\">\n                        <div class=\"bg-red-100 p-3 rounded-full\">\n                            <i class=\"fas fa-exclamation-triangle text-red-600 text-xl\"></i>\n                        </div>\n                        <div class=\"ml-4\">\n                            <p class=\"text-sm font-medium text-gray-600\">Failed</p>\n                            <p class=\"text-2xl font-bold text-gray-900\" id=\"messagesFailed\">0</p>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"bg-white rounded-lg shadow p-6\">\n                    <div class=\"flex items-center\">\n                        <div class=\"bg-blue-100 p-3 rounded-full\">\n                            <i class=\"fas fa-clock text-blue-600 text-xl\"></i>\n                        </div>\n                        <div class=\"ml-4\">\n                            <p class=\"text-sm font-medium text-gray-600\">In Queue</p>\n                            <p class=\"text-2xl font-bold text-gray-900\" id=\"messagesQueue\">0</p>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"bg-white rounded-lg shadow p-6\">\n                    <div class=\"flex items-center\">\n                        <div class=\"bg-purple-100 p-3 rounded-full\">\n                            <i class=\"fas fa-users text-purple-600 text-xl\"></i>\n                        </div>\n                        <div class=\"ml-4\">\n                            <p class=\"text-sm font-medium text-gray-600\">Total Contacts</p>\n                            <p class=\"text-2xl font-bold text-gray-900\" id=\"totalContacts\">0</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Tabs Navigation -->\n            <div class=\"bg-white rounded-lg shadow-lg mb-6\">\n                <div class=\"border-b border-gray-200\">\n                    <nav class=\"flex space-x-8 px-6\" aria-label=\"Tabs\">\n                        <button class=\"tab-button active py-4 px-1 border-b-2 border-transparent font-medium text-sm\" data-tab=\"messaging\">\n                            <i class=\"fas fa-paper-plane mr-2\"></i>Messaging\n                        </button>\n                        <button class=\"tab-button py-4 px-1 border-b-2 border-transparent font-medium text-sm\" data-tab=\"contacts\">\n                            <i class=\"fas fa-address-book mr-2\"></i>Contacts\n                        </button>\n                        <button class=\"tab-button py-4 px-1 border-b-2 border-transparent font-medium text-sm\" data-tab=\"templates\">\n                            <i class=\"fas fa-file-text mr-2\"></i>Templates\n                        </button>\n                        <button class=\"tab-button py-4 px-1 border-b-2 border-transparent font-medium text-sm\" data-tab=\"campaigns\">\n                            <i class=\"fas fa-bullhorn mr-2\"></i>Campaigns\n                        </button>\n                    </nav>\n                </div>\n\n                <!-- Tab Contents -->\n                <div class=\"p-6\">\n                    <!-- Messaging Tab -->\n                    <div id=\"messaging\" class=\"tab-content active\">\n                        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                            <!-- Single Message -->\n                            <div class=\"space-y-6\">\n                                <h3 class=\"text-lg font-semibold text-gray-800\">Send Single Message</h3>\n                                <form id=\"singleMessageForm\">\n                                    <div class=\"space-y-4\">\n                                        <div>\n                                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Phone Number</label>\n                                            <input type=\"tel\" id=\"singlePhone\" class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\" placeholder=\"+1234567890\" required>\n                                        </div>\n                                        <div>\n                                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Message</label>\n                                            <textarea id=\"singleMessage\" rows=\"4\" class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\" placeholder=\"Type your message here...\" required></textarea>\n                                        </div>\n                                        <button type=\"submit\" class=\"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-4 rounded-lg transition-colors\">\n                                            <i class=\"fas fa-paper-plane mr-2\"></i>Send Message\n                                        </button>\n                                    </div>\n                                </form>\n                            </div>\n\n                            <!-- Bulk Messaging -->\n                            <div class=\"space-y-6\">\n                                <h3 class=\"text-lg font-semibold text-gray-800\">Bulk Messaging</h3>\n                                <form id=\"bulkMessageForm\">\n                                    <div class=\"space-y-4\">\n                                        <div>\n                                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Select Template</label>\n                                            <select id=\"templateSelect\" class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\n                                                <option value=\"\">Select a template...</option>\n                                            </select>\n                                        </div>\n                                        <div>\n                                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Or Custom Message</label>\n                                            <textarea id=\"bulkMessage\" rows=\"4\" class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\" placeholder=\"Type your message here...\"></textarea>\n                                        </div>\n                                        <div>\n                                            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Upload CSV File</label>\n                                            <input type=\"file\" id=\"csvFile\" accept=\".csv\" class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\">\n                                            <p class=\"text-sm text-gray-500 mt-1\">CSV should have columns: name, phone, email</p>\n                                        </div>\n                                        <button type=\"submit\" class=\"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg transition-colors\">\n                                            <i class=\"fas fa-broadcast-tower mr-2\"></i>Start Bulk Campaign\n                                        </button>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Contacts Tab -->\n                    <div id=\"contacts\" class=\"tab-content\">\n                        <div class=\"space-y-6\">\n                            <div class=\"flex justify-between items-center\">\n                                <h3 class=\"text-lg font-semibold text-gray-800\">Contact Management</h3>\n                                <div class=\"flex space-x-3\">\n                                    <button id=\"addContactBtn\" class=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors\">\n                                        <i class=\"fas fa-plus mr-2\"></i>Add Contact\n                                    </button>\n                                    <button id=\"importContactsBtn\" class=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors\">\n                                        <i class=\"fas fa-upload mr-2\"></i>Import CSV\n                                    </button>\n                                    <button id=\"exportContactsBtn\" class=\"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors\">\n                                        <i class=\"fas fa-download mr-2\"></i>Export\n                                    </button>\n                                </div>\n                            </div>\n                            \n                            <!-- Search and Filters -->\n                            <div class=\"flex flex-col sm:flex-row gap-4\">\n                                <div class=\"flex-1\">\n                                    <input type=\"text\" id=\"contactSearch\" class=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\" placeholder=\"Search contacts...\">\n                                </div>\n                                <button id=\"refreshContactsBtn\" class=\"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors\">\n                                    <i class=\"fas fa-refresh mr-2\"></i>Refresh\n                                </button>\n                            </div>\n\n                            <!-- Contacts Table -->\n                            <div class=\"bg-white rounded-lg shadow overflow-hidden\">\n                                <table class=\"min-w-full divide-y divide-gray-200\">\n                                    <thead class=\"bg-gray-50\">\n                                        <tr>\n                                            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\n                                            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Phone</th>\n                                            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Email</th>\n                                            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tags</th>\n                                            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody id=\"contactsTableBody\" class=\"bg-white divide-y divide-gray-200\">\n                                        <!-- Contacts will be loaded here -->\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Templates Tab -->\n                    <div id=\"templates\" class=\"tab-content\">\n                        <div class=\"space-y-6\">\n                            <div class=\"flex justify-between items-center\">\n                                <h3 class=\"text-lg font-semibold text-gray-800\">Message Templates</h3>\n                                <button id=\"createTemplateBtn\" class=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors\">\n                                    <i class=\"fas fa-plus mr-2\"></i>Create Template\n                                </button>\n                            </div>\n\n                            <!-- Templates Grid -->\n                            <div id=\"templatesGrid\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                                <!-- Templates will be loaded here -->\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Campaigns Tab -->\n                    <div id=\"campaigns\" class=\"tab-content\">\n                        <div class=\"space-y-6\">\n                            <h3 class=\"text-lg font-semibold text-gray-800\">Campaign History</h3>\n                            <div id=\"campaignsContainer\">\n                                <div class=\"text-center py-12 text-gray-500\">\n                                    <i class=\"fas fa-bullhorn text-4xl mb-4\"></i>\n                                    <p>No campaigns yet. Start your first campaign from the Messaging tab!</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Progress Bar -->\n    <div id=\"progressContainer\" class=\"fixed bottom-4 right-4 bg-white rounded-lg shadow-lg p-4\" style=\"display: none;\">\n        <div class=\"flex items-center space-x-3\">\n            <div class=\"w-4 h-4 bg-blue-500 rounded-full animate-spin\"></div>\n            <div>\n                <p class=\"font-semibold text-gray-800\" id=\"progressTitle\">Sending Messages...</p>\n                <p class=\"text-sm text-gray-600\" id=\"progressText\">0 / 0</p>\n            </div>\n        </div>\n        <div class=\"w-64 bg-gray-200 rounded-full h-2 mt-3\">\n            <div id=\"progressBar\" class=\"bg-blue-500 h-2 rounded-full transition-all duration-300\" style=\"width: 0%\"></div>\n        </div>\n    </div>\n\n    <!-- Notification Toast -->\n    <div id=\"toast\" class=\"fixed top-4 right-4 transform translate-x-full transition-transform duration-300 z-50\">\n        <div class=\"bg-white rounded-lg shadow-lg border p-4 max-w-sm\">\n            <div class=\"flex items-center\">\n                <div id=\"toastIcon\" class=\"flex-shrink-0\"></div>\n                <div class=\"ml-3\">\n                    <p id=\"toastTitle\" class=\"text-sm font-medium text-gray-900\"></p>\n                    <p id=\"toastMessage\" class=\"text-sm text-gray-500\"></p>\n                </div>\n                <button id=\"toastClose\" class=\"ml-auto flex-shrink-0\">\n                    <i class=\"fas fa-times text-gray-400 hover:text-gray-600\"></i>\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <script src=\"/js/app.js\"></script>\n</body>\n</html>"